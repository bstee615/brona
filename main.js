!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s(s.s=7)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canvas=document.getElementById("gameCanvas"),e.ctx=e.canvas.getContext("2d"),e.tilesize=e.canvas.width/24,e.pxToGame=function(t){return t/e.tilesize},e.gameToPx=function(t){return t*e.tilesize}},function(t,e,s){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(t,e)},function(t,e){function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,s,i,n){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===s&&(s=null),void 0===i&&(i=null),void 0===n&&(n=null),this.loaded=!1,t){this.img=new Image,this.img.src=function(t){return"images/"+t}(t);var r=this;this.img.onload=function(){r.loaded=!0}}this.srcX=e,this.srcY=s,this.srcW=i,this.srcH=n,this.draw=this.draw.bind(this)}return t.prototype.draw=function(t,e,s,i,n){null!=this.srcX&&null!=this.srcY&&null!=this.srcW&&null!=this.srcH?t.drawImage(this.img,this.srcX,this.srcY,this.srcW,this.srcH,e,s,i,n):t.drawImage(this.img,e,s,i,n)},t}();e.default=o;var a=function(t){function e(e,s,i,n,r){var o=t.call(this,e,s,i,n)||this;return o.spr=r,o}return n(e,t),e.prototype.sprite=function(){return this.spr},e}(r(s(4)).default);e.SpriteObject=a},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.colliders=[],e.registerCollider=function(t){e.colliders.push(t)},e.correctCollisions=function(t,s){for(var i=t.x+s.x,n=t.x+t.w+s.x,r=t.y+s.y,o=t.y+t.h+s.y,a=0,l=e.colliders;a<l.length;a++){var c=l[a],u=c.x,h=c.x+c.w,p=c.y,d=c.y+c.h;if(!(i>h||n<u||r>d||o<p)){var f={x:i+n/2,y:o+r/2},g={x:u+h/2,y:d+p/2},v={x:(f.x-g.x)/Math.abs(f.x-g.x),y:(f.y-g.y)/Math.abs(f.y-g.y)};v.x>0?v.y>0?Math.abs(i-h)<Math.abs(r-d)?s.x=h+.001-t.x:s.y=d+.001-t.y:Math.abs(i-h)<Math.abs(o-p)?s.x=h+.001-t.x:s.y=p-.001-(t.y+t.h):v.y>0?Math.abs(n-u)<Math.abs(r-d)?s.x=u-.001-(t.x+t.w):s.y=d+.001-t.y:Math.abs(n-u)<Math.abs(o-p)?s.x=u-.001-(t.x+t.w):s.y=p-.001-(t.y+t.h)}}return s}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(0);e.mousedown=!1,e.rightMousedown=!1,e.mousePosition={x:0,y:0},i.canvas.addEventListener("mousedown",(function(t){0==t.button?e.mousedown=!0:2==t.button&&(e.rightMousedown=!0)})),i.canvas.addEventListener("mouseup",(function(t){0==t.button?e.mousedown=!1:2==t.button&&(e.rightMousedown=!1)})),i.canvas.addEventListener("mousemove",(function(t){e.mousePosition.x=t.offsetX,e.mousePosition.y=t.offsetY}))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(0),n=function(){function t(t,e,s,i){this.x=t,this.y=e,this.w=s,this.h=i,this.draw=this.draw.bind(this)}return t.prototype.draw=function(t){this.sprite().draw(t,i.gameToPx(this.x),i.gameToPx(this.y),i.gameToPx(this.w),i.gameToPx(this.h))},t.prototype.sprite=function(){throw new Error("sprite() not implemented")},t}();e.default=n},function(t,e,s){var i={corePath:"https://cdn.jsdelivr.net/gh/naptha/tesseract.js-core@0.1.0/index.js",langPath:"https://tessdata.projectnaptha.com/3.02/"};if("development"===Object({BASE_URL:"http://benjijang.com/brona/",NODE_ENV:"production"}).TESS_ENV)console.debug("Using Development Configuration"),i.workerPath=location.protocol+"//"+location.host+"/dist/worker.dev.js?nocache="+Math.random().toString(36).slice(3);else{var n=s(6).version;i.workerPath="https://cdn.jsdelivr.net/gh/naptha/tesseract.js@"+n+"/dist/worker.js"}e.defaultOptions=i,e.spawnWorker=function(t,e){if(Blob&&URL)var s=new Blob(['importScripts("'+e.workerPath+'");'],{type:"application/javascript"}),i=new Worker(URL.createObjectURL(s));else i=new Worker(e.workerPath);return i.onmessage=function(e){var s=e.data;t._recv(s)},i},e.terminateWorker=function(t){t.worker.terminate()},e.sendPacket=function(t,e){!function t(e,s){if("string"==typeof e){if(/^\#/.test(e))return t(document.querySelector(e),s);if(/(blob|data)\:/.test(e)){var i=new Image;return i.src=e,i.onload=e=>t(i,s),void(i.onerror=t=>{throw t})}var n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="blob",n.onload=e=>{if(n.status>=400)throw new Error("Fail to get image as Blob");t(n.response,s)},n.onerror=t=>{throw t},void n.send(null)}if(e instanceof File){var r=new FileReader;return r.onload=e=>t(r.result,s),r.onerror=t=>{throw t},void r.readAsDataURL(e)}if(e instanceof Blob)return t(URL.createObjectURL(e),s);if(e.getContext)return t(e.getContext("2d"),s);if("IMG"==e.tagName||"VIDEO"==e.tagName){var o=document.createElement("canvas");o.width=e.naturalWidth||e.videoWidth,o.height=e.naturalHeight||e.videoHeight;var a=o.getContext("2d");return a.drawImage(e,0,0),t(a,s)}if(e.getImageData){var l=e.getImageData(0,0,e.canvas.width,e.canvas.height);return t(l,s)}return s(e)}(e.payload.image,(function(s){e.payload.image=s,t.worker.postMessage(e)}))}},function(t){t.exports=JSON.parse('{"_args":[["tesseract.js@1.0.19","/home/travis/build/bstee615/brona"]],"_development":true,"_from":"tesseract.js@1.0.19","_id":"tesseract.js@1.0.19","_inBundle":false,"_integrity":"sha512-UXnCd2GkDOuVwPYv8MryzDwXEPLJ/BjEuT76PWzVC8XhZbsChRkpoiKDSGDbZ2BW2rwg1yBWJ0joSdCTw1umBA==","_location":"/tesseract.js","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"tesseract.js@1.0.19","name":"tesseract.js","escapedName":"tesseract.js","rawSpec":"1.0.19","saveSpec":null,"fetchSpec":"1.0.19"},"_requiredBy":["#DEV:/"],"_resolved":"https://registry.npmjs.org/tesseract.js/-/tesseract.js-1.0.19.tgz","_spec":"1.0.19","_where":"/home/travis/build/bstee615/brona","author":"","browser":{"./src/node/index.js":"./src/browser/index.js"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"dependencies":{"file-type":"^3.8.0","is-url":"1.2.2","isomorphic-fetch":"^2.2.1","jpeg-js":"^0.2.0","level-js":"^2.2.4","node-fetch":"^1.6.3","object-assign":"^4.1.0","png.js":"^0.2.1","tesseract.js-core":"^1.0.2"},"description":"Pure Javascript Multilingual OCR","devDependencies":{"babel-preset-es2015":"^6.16.0","babelify":"^7.3.0","browserify":"^13.1.0","concurrently":"^3.1.0","envify":"^3.4.1","http-server":"^0.9.0","pako":"^1.0.3","uglify-js":"^3.4.9","watchify":"^3.7.0"},"homepage":"https://github.com/naptha/tesseract.js","license":"Apache-2.0","main":"src/index.js","name":"tesseract.js","repository":{"type":"git","url":"git+https://github.com/naptha/tesseract.js.git"},"scripts":{"build":"browserify src/index.js -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.js --standalone Tesseract && browserify src/browser/worker.js -t [ babelify --presets [ es2015 ] ] -o dist/worker.js && uglifyjs dist/tesseract.js --source-map -o dist/tesseract.min.js && uglifyjs dist/worker.js --source-map -o dist/worker.min.js","release":"npm run build && git commit -am \'new release\' && git push && git tag `jq -r \'.version\' package.json` && git push origin --tags && npm publish","start":"concurrently --kill-others \\"watchify src/index.js  -t [ envify --TESS_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.dev.js --standalone Tesseract\\" \\"watchify src/browser/worker.js  -t [ envify --TESS_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/worker.dev.js\\" \\"http-server -p 7355\\""},"version":"1.0.19"}')},function(t,e,s){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(s(8)),o=s(9),a=s(0),l=s(10),c=n(s(1)),u=new(s(16).Tilemap)("forest_tiles.png",12,16,32);u.loadTile(0,13,"Mushroom"),u.loadTile(0,13,"Mushroom",0,1),u.loadTile(6,0,"Pine_1",2,4),u.loadTile(7,0,"Pine_2",2,5),u.loadTile(6,1,"Pine_3",3,4),u.loadTile(7,1,"Pine_4",3,5),u.loadObject(0,6,"Pit_1_1",5,5,1,1,!0),u.loadObject(0,7,"Pit_2_1",6,5,1,1,!0),u.loadObject(0,8,"Pit_3_1",7,5,1,1,!0),u.loadObject(1,6,"Pit_1_2",5,6,1,1,!0),u.loadObject(1,7,"Pit_2_2",6,6,1,1,!0),u.loadObject(1,8,"Pit_3_2",7,6,1,1,!0),u.loadObject(2,6,"Pit_1_3",5,7,1,1,!0),u.loadObject(2,7,"Pit_2_3",6,7,1,1,!0),u.loadObject(2,8,"Pit_3_3",7,7,1,1,!0);var h=new c.default("forest.png"),p=new o.Fader(.2,.6,.01),d=new o.Fader(0,.6,-.01),f=new o.Fader(.05,1,-.1,.9);d.value=0,function t(){var e;r.moveBrona(f.value),function(){a.ctx.clearRect(0,0,a.canvas.clientWidth,a.canvas.clientHeight),h.draw(a.ctx,0,0,a.canvas.clientWidth,a.canvas.clientHeight);for(var t=0,e=u.tiles;t<e.length;t++){e[t].draw(a.ctx)}r.obj.draw(a.ctx)}(),document.getElementById("spell-display").innerHTML=l.spellState.toString(),l.spellState.isCasting?(e=a.ctx.globalAlpha,a.ctx.globalAlpha=p.value,a.ctx.fillRect(0,0,a.canvas.clientWidth,a.canvas.clientHeight),a.ctx.globalAlpha=e,p.increment(),d.reset(),f.increment(),l.spellState.drawSpell()):(!function(){var t=a.ctx.globalAlpha;a.ctx.globalAlpha=d.value,a.ctx.fillRect(0,0,a.canvas.clientWidth,a.canvas.clientHeight),a.ctx.globalAlpha=t,d.increment()}(),p.reset(),f.reset()),window.requestAnimationFrame(t)}()},function(t,e,s){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),r=i(s(3)),o=s(0),a=i(s(1));o.canvas.addEventListener("mousedown",(function(t){0==t.button&&u(r.mousePosition.x,r.mousePosition.y)})),o.canvas.addEventListener("mousemove",(function(){r.mousedown&&u(r.mousePosition.x,r.mousePosition.y)})),e.obj=new a.SpriteObject(3,4,1,1,new a.default("brona.png","Brona"));var l=.3,c={x:null,y:null};function u(t,s){c={x:o.pxToGame(t)-e.obj.w/2,y:o.pxToGame(s)-e.obj.h/2}}function h(){c.x=null,c.y=null}function p(t){var s=n.correctCollisions(e.obj,t);return(s.x||s.y)&&(t=s),t}e.target=u,e.cancelTargetPosition=h,e.moveBrona=function(t){var s,i=(s={x:0,y:0},null!=c.x&&(s.x=c.x-e.obj.x),null!=c.y&&(s.y=c.y-e.obj.y),s),n=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);if(e>0){var s={x:t.x/e,y:t.y/e};return{x:s.x*l,y:s.y*l}}}(i);Math.sqrt(i.x*i.x+i.y*i.y)<=l&&(n=i,h());var r=p(n),o=r.x*t,a=r.y*t;e.obj.x+=o,e.obj.y+=a,p(i)}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,s,i){void 0===i&&(i=1),this.range={min:t,max:e},this.inc=s,this.originalInc=s,this.accelFactor=i,this.reset()}return Object.defineProperty(t.prototype,"value",{get:function(){return this.currentValue},set:function(t){this.currentValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"done",{get:function(){return this.doneFading},enumerable:!0,configurable:!0}),t.prototype.increment=function(){this.doneFading||(this.currentValue+=this.inc,this.inc=this.inc*this.accelFactor,this.inc>0?this.currentValue>=this.range.max&&(this.currentValue=this.range.max,this.doneFading=!0):this.currentValue<=this.range.min&&(this.currentValue=this.range.min,this.doneFading=!0))},t.prototype.reset=function(){this.inc=this.originalInc,this.inc>0?this.currentValue=this.range.min:this.currentValue=this.range.max,this.doneFading=!1},t}();e.Fader=i},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(3),n=s(0),r=s(11),o=s(15);e.spellState=new r.SpellState,n.canvas.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1}),!1),n.canvas.addEventListener("mousedown",(function(t){2==t.button&&(e.spellState.startSpell(),e.spellState.resetSpellPoints())})),n.canvas.addEventListener("mousemove",(function(t){e.spellState.isCasting&&i.rightMousedown&&e.spellState.addSpellPoint(new o.Vector(t.offsetX,t.offsetY))})),n.canvas.addEventListener("mouseup",(function(t){2==t.button&&e.spellState.isCasting&&(e.spellState.saveSpell(),e.spellState.startSpellExpiry())}))},function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=i(s(12)),r=s(0),o=function(){function t(){this.casting=!1,this.spellPoints=[],this.spellLetters=[],this.castingTimeout=null,this.spellCooking=!1}return Object.defineProperty(t.prototype,"isCasting",{get:function(){return this.casting},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.spellLetters.length>0?this.spellLetters.join(""):this.spellCooking?"Spell cooking...":"No spell"},t.prototype.resetSpellPoints=function(){this.spellPoints=[]},t.prototype.addSpellPoint=function(t){this.spellPoints.push({x:t.x,y:t.y})},t.prototype.startSpell=function(){this.casting=!0,this.castingTimeout&&clearTimeout(this.castingTimeout),this.castingTimeout=null},t.prototype.startSpellExpiry=function(){var t=this;this.castingTimeout=setTimeout((function(){t.casting=!1}),1e3)},t.prototype.drawSpell=function(){if(r.ctx.beginPath(),r.ctx.lineWidth=30,r.ctx.strokeStyle="orange",this.spellPoints.length>0){r.ctx.moveTo(this.spellPoints[0].x,this.spellPoints[0].y);for(var t=0,e=this.spellPoints;t<e.length;t++){var s=e[t];r.ctx.lineTo(s.x,s.y)}}r.ctx.stroke()},t.prototype.saveSpell=function(){var t=this,e=document.createElement("canvas");e.width=r.canvas.width,e.height=r.canvas.height;var s=e.getContext("2d");if(s.strokeStyle="white",s.fillStyle="white",s.fillRect(0,0,e.width,e.height),s.beginPath(),s.lineWidth=30,s.strokeStyle="orange",this.spellPoints.length>0){s.moveTo(this.spellPoints[0].x,this.spellPoints[0].y);for(var i=0,o=this.spellPoints;i<o.length;i++){var a=o[i];s.lineTo(a.x,a.y)}}s.stroke(),document.getElementById("spell-display").innerHTML="Thinking...",this.spellCooking=!0,n.default.recognize(e).then((function(e){t.spellLetters.push(e.text),t.spellCooking=!1})),this.resetSpellPoints()},t}();e.SpellState=o},function(t,e,s){const i=s(5),n=s(13),r=s(14),o=s(6).version,a=function(t={}){var e=new l(Object.assign({},i.defaultOptions,t));return e.create=a,e.version=o,e};class l{constructor(t){this.worker=null,this.workerOptions=t,this._currentJob=null,this._queue=[]}recognize(t,e={}){return this._delay(s=>{"string"==typeof e&&(e={lang:e}),e.lang=e.lang||"eng",s._send("recognize",{image:t,options:e,workerOptions:this.workerOptions})})}detect(t,e={}){return this._delay(s=>{s._send("detect",{image:t,options:e,workerOptions:this.workerOptions})})}terminate(){this.worker&&i.terminateWorker(this),this.worker=null,this._currentJob=null,this._queue=[]}_delay(t){this.worker||(this.worker=i.spawnWorker(this,this.workerOptions));var e=new r(this);return this._queue.push(s=>{this._queue.shift(),this._currentJob=e,t(e)}),this._currentJob||this._dequeue(),e}_dequeue(){this._currentJob=null,this._queue.length&&this._queue[0]()}_recv(t){"resolve"===t.status&&"recognize"===t.action&&(t.data=n(t.data)),this._currentJob.id===t.jobId?this._currentJob._handle(t):console.warn("Job ID "+t.jobId+" not known.")}}t.exports=a()},function(t,e){t.exports=function(t){return t.paragraphs=[],t.lines=[],t.words=[],t.symbols=[],t.blocks.forEach((function(e){e.page=t,e.lines=[],e.words=[],e.symbols=[],e.paragraphs.forEach((function(s){s.block=e,s.page=t,s.words=[],s.symbols=[],s.lines.forEach((function(i){i.paragraph=s,i.block=e,i.page=t,i.symbols=[],i.words.forEach((function(n){n.line=i,n.paragraph=s,n.block=e,n.page=t,n.symbols.forEach((function(r){r.word=n,r.line=i,r.paragraph=s,r.block=e,r.page=t,r.line.symbols.push(r),r.paragraph.symbols.push(r),r.block.symbols.push(r),r.page.symbols.push(r)})),n.paragraph.words.push(n),n.block.words.push(n),n.page.words.push(n)})),i.block.lines.push(i),i.page.lines.push(i)})),s.page.paragraphs.push(s)}))})),t}},function(t,e,s){const i=s(5);let n=0;t.exports=class{constructor(t){this.id="Job-"+ ++n+"-"+Math.random().toString(16).slice(3,8),this._instance=t,this._resolve=[],this._reject=[],this._progress=[],this._finally=[]}then(t,e){return this._resolve.push?this._resolve.push(t):t(this._resolve),e&&this.catch(e),this}catch(t){return this._reject.push?this._reject.push(t):t(this._reject),this}progress(t){return this._progress.push(t),this}finally(t){return this._finally.push(t),this}_send(t,e){i.sendPacket(this._instance,{jobId:this.id,action:t,payload:e})}_handle(t){var e=t.data;let s=!1;"resolve"===t.status?(0===this._resolve.length&&console.log(e),this._resolve.forEach(t=>{var s=t(e);s&&"function"==typeof s.then&&console.warn("TesseractJob instances do not chain like ES6 Promises. To convert it into a real promise, use Promise.resolve.")}),this._resolve=e,this._instance._dequeue(),s=!0):"reject"===t.status?(0===this._reject.length&&console.error(e),this._reject.forEach(t=>t(e)),this._reject=e,this._instance._dequeue(),s=!0):"progress"===t.status?this._progress.forEach(t=>t(e)):console.warn("Message type unknown",t.status),s&&this._finally.forEach(t=>t(e))}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){this.x=t,this.y=e};e.Vector=i},function(t,e,s){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(t,e)},function(t,e){function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=s(2),a=r(s(4)),l=r(s(1)),c=function(t){function e(e,s,i,n,r,o,a,l){var c=t.call(this,s,i,n,r)||this;return c.tilerow=o,c.tilecol=a,c.name=l,c.map=e,c}return n(e,t),e.prototype.sprite=function(){return this.map.loadSprite(this.tilerow,this.tilecol),this.map.tileSprites[this.tilerow][this.tilecol]},e}(a.default),u=function(){function t(t,e,s,i){this.filepath=t,this.tileSprites=[];for(var n=0;n<e;n++){this.tileSprites.push([]);for(var r=0;r<s;r++)this.tileSprites[n].push(new l.default)}this.tiles=[],this.tilewidth=i,this.nrows=e,this.ncols=s}return t.prototype.loadSprite=function(t,e){return this.tileSprites[t][e].loaded?this.tileSprites[t][e]:new l.default(this.filepath,e*this.tilewidth,t*this.tilewidth,this.tilewidth,this.tilewidth)},t.prototype.loadTile=function(t,e,s,i,n,r,o){void 0===s&&(s="Unnamed"),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===o&&(o=1),this.tileSprites[t][e]=this.loadSprite(t,e);var a=new c(this,i,n,r,o,t,e,s);return this.tiles.push(a),a},t.prototype.loadObject=function(t,e,s,i,n,r,a,l){void 0===s&&(s="Unnamed"),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===a&&(a=1),void 0===l&&(l=!1);var c=this.loadTile(t,e,s,i,n,r,a);l&&o.registerCollider(c)},t}();e.Tilemap=u}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ByaXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb2xsaWRlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2wudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGVzc2VyYWN0LmpzL3NyYy9icm93c2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYnJvbmEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zcGVsbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NwZWxsU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rlc3NlcmFjdC5qcy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rlc3NlcmFjdC5qcy9zcmMvY29tbW9uL2NpcmN1bGFyaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90ZXNzZXJhY3QuanMvc3JjL2NvbW1vbi9qb2IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGlsZXMudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsInRpbGVzaXplIiwid2lkdGgiLCJweCIsImZpbGVwYXRoIiwic3JjWCIsInNyY1kiLCJzcmNXIiwic3JjSCIsInRoaXMiLCJsb2FkZWQiLCJpbWciLCJJbWFnZSIsInNyYyIsImltYWdlUGF0aCIsIm9ubG9hZCIsImRyYXciLCJ4IiwieSIsInciLCJoIiwiZHJhd0ltYWdlIiwic3ByaXRlIiwic3ByIiwiU3ByaXRlT2JqZWN0IiwiY29sbGlkZXJzIiwiY29sbCIsInB1c2giLCJwb3MiLCJkZWx0YSIsImJsZWZ0IiwiYnJpZ2h0IiwiYnRvcCIsImJib3QiLCJjbGVmdCIsImNyaWdodCIsImN0b3AiLCJjYm90IiwiYmNlbnRlciIsImNjZW50ZXIiLCJkaXJlY3Rpb24iLCJNYXRoIiwiYWJzIiwibW91c2Vkb3duIiwicmlnaHRNb3VzZWRvd24iLCJtb3VzZVBvc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwiYnV0dG9uIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnYW1lVG9QeCIsIkVycm9yIiwiZGVmYXVsdE9wdGlvbnMiLCJjb3JlUGF0aCIsImxhbmdQYXRoIiwiVEVTU19FTlYiLCJjb25zb2xlIiwiZGVidWciLCJ3b3JrZXJQYXRoIiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwidmVyc2lvbiIsInNwYXduV29ya2VyIiwiaW5zdGFuY2UiLCJ3b3JrZXJPcHRpb25zIiwiQmxvYiIsIlVSTCIsImJsb2IiLCJ0eXBlIiwid29ya2VyIiwiV29ya2VyIiwiY3JlYXRlT2JqZWN0VVJMIiwib25tZXNzYWdlIiwiZSIsInBhY2tldCIsImRhdGEiLCJfcmVjdiIsInRlcm1pbmF0ZVdvcmtlciIsInRlcm1pbmF0ZSIsInNlbmRQYWNrZXQiLCJsb2FkSW1hZ2UiLCJpbWFnZSIsImNiIiwidGVzdCIsInF1ZXJ5U2VsZWN0b3IiLCJpbSIsIm9uZXJyb3IiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJzdGF0dXMiLCJyZXNwb25zZSIsInNlbmQiLCJGaWxlIiwiZnIiLCJGaWxlUmVhZGVyIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsInRhZ05hbWUiLCJjcmVhdGVFbGVtZW50IiwibmF0dXJhbFdpZHRoIiwidmlkZW9XaWR0aCIsImhlaWdodCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb0hlaWdodCIsImdldEltYWdlRGF0YSIsInBheWxvYWQiLCJwb3N0TWVzc2FnZSIsImZvcmVzdFRpbGVzIiwiVGlsZW1hcCIsImxvYWRUaWxlIiwibG9hZE9iamVjdCIsImJnIiwiZmFkZURvd24iLCJGYWRlciIsImZhZGVVcCIsInRpbWVTY2FsZSIsIm1haW5Mb29wIiwib3JpZ2luYWxBbHBoYSIsImJyb25hIiwibW92ZUJyb25hIiwiY2xlYXJSZWN0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJ0aWxlcyIsIm9iaiIsInJlbmRlck9iamVjdHMiLCJpbm5lckhUTUwiLCJzcGVsbFN0YXRlIiwiaXNDYXN0aW5nIiwiZ2xvYmFsQWxwaGEiLCJmaWxsUmVjdCIsImluY3JlbWVudCIsInJlc2V0IiwiZHJhd1NwZWxsIiwiZG9GYWRlVXAiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0YXJnZXQiLCJjb250cm9sIiwic3BlZWQiLCJ0YXJnZXRQb3NpdGlvbiIsInB4VG9HYW1lIiwiY2FuY2VsVGFyZ2V0UG9zaXRpb24iLCJnZXRDb2xsaXNpb25EZWx0YSIsImNvbGxEZWx0YSIsImNvcnJlY3RDb2xsaXNpb25zIiwiaW5wdXREZWx0YSIsIm1vdmVtZW50RGVsdGEiLCJtYWduaXR1ZGUiLCJzcXJ0IiwidW5pdERlbHRhIiwiZ2V0TW92ZW1lbnREZWx0YSIsInBvc3RDb2xsaXNpb25EZWx0YSIsInRpbWVTY2FsZWREZWx0YSIsIm1pbiIsIm1heCIsImluYyIsImFjY2VsRmFjdG9yIiwicmFuZ2UiLCJvcmlnaW5hbEluYyIsImN1cnJlbnRWYWx1ZSIsImlucHV0IiwiZG9uZUZhZGluZyIsIlNwZWxsU3RhdGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0YXJ0U3BlbGwiLCJyZXNldFNwZWxsUG9pbnRzIiwiYWRkU3BlbGxQb2ludCIsIlZlY3RvciIsInNhdmVTcGVsbCIsInN0YXJ0U3BlbGxFeHBpcnkiLCJjYXN0aW5nIiwic3BlbGxQb2ludHMiLCJzcGVsbExldHRlcnMiLCJjYXN0aW5nVGltZW91dCIsInNwZWxsQ29va2luZyIsImxlbmd0aCIsImpvaW4iLCJweFBvcyIsImNsZWFyVGltZW91dCIsInNlbGYiLCJzZXRUaW1lb3V0IiwiYmVnaW5QYXRoIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJtZW1vcnlDYW52YXMiLCJtZW1vcnlDdHgiLCJmaWxsU3R5bGUiLCJyZWNvZ25pemUiLCJ0aGVuIiwidGV4dCIsImFkYXB0ZXIiLCJjaXJjdWxhcml6ZSIsIlRlc3NlcmFjdEpvYiIsIlRlc3NlcmFjdFdvcmtlciIsImFzc2lnbiIsIl9jdXJyZW50Sm9iIiwiX3F1ZXVlIiwib3B0aW9ucyIsIl9kZWxheSIsImpvYiIsImxhbmciLCJfc2VuZCIsImZuIiwic2hpZnQiLCJfZGVxdWV1ZSIsImFjdGlvbiIsImlkIiwiam9iSWQiLCJfaGFuZGxlIiwid2FybiIsInBhZ2UiLCJwYXJhZ3JhcGhzIiwibGluZXMiLCJ3b3JkcyIsInN5bWJvbHMiLCJibG9ja3MiLCJmb3JFYWNoIiwiYmxvY2siLCJwYXJhIiwibGluZSIsInBhcmFncmFwaCIsIndvcmQiLCJzeW0iLCJqb2JDb3VudGVyIiwiX2luc3RhbmNlIiwiX3Jlc29sdmUiLCJfcmVqZWN0IiwiX3Byb2dyZXNzIiwiX2ZpbmFsbHkiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2F0Y2giLCJydW5GaW5hbGx5Q2JzIiwibG9nIiwicmV0IiwiZXJyb3IiLCJtYXAiLCJ0aWxlcm93IiwidGlsZWNvbCIsImxvYWRTcHJpdGUiLCJ0aWxlU3ByaXRlcyIsIm5yb3dzIiwibmNvbHMiLCJ0aWxld2lkdGgiLCJyb3ciLCJjb2wiLCJ0aWxlIiwiVGlsZU9iamVjdCIsImNvbGxpZGVyIiwicmVnaXN0ZXJDb2xsaWRlciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxP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Q0ErTyxRQUxBLElBQUFoUyxNQUFBLGdCQUNBLElBQUE4QyxNQUFBLFFBQ0EsSUFBQUMsTUFBQSxRQUNBLElBQUFDLE1BQUEsUUFDQSxJQUFBQyxNQUFBLFFBQ0EsSUFBQStPLE9BQUEsR0FFQSxJQUFNRixFQUFPeFAsS0FBSzJHLFNBQVNvSSxFQUFTQyxFQUFTdFIsRUFBTThDLEVBQUdDLEVBQUdDLEVBQUdDLEdBRXhEK08sR0FDQSxFQUFBQyxpQkFBaUJILElBRzdCLEVBcEZBLEdBQWEsRUFBQTlJIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwiZXhwb3J0IGNvbnN0IGNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVDYW52YXNcIik7XG5leHBvcnQgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuZXhwb3J0IGNvbnN0IHRpbGVzaXplID0gY2FudmFzLndpZHRoIC8gMjQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBweFRvR2FtZShweDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHB4IC8gdGlsZXNpemU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2FtZVRvUHgocHg6IG51bWJlcikge1xuICAgIHJldHVybiBweCAqIHRpbGVzaXplO1xufVxuIiwiZnVuY3Rpb24gaW1hZ2VQYXRoKGZpbGVwYXRoOiBhbnkpIHtcbiAgICByZXR1cm4gYGltYWdlcy8ke2ZpbGVwYXRofWA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcml0ZSB7XG4gICAgbG9hZGVkOiBib29sZWFuO1xuXG4gICAgc3JjWDogbnVtYmVyO1xuICAgIHNyY1k6IG51bWJlcjtcbiAgICBzcmNXOiBudW1iZXI7XG4gICAgc3JjSDogbnVtYmVyO1xuXG4gICAgaW1nOiBIVE1MSW1hZ2VFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGZpbGVwYXRoID0gbnVsbCxcbiAgICAgICAgc3JjWCA9IG51bGwsXG4gICAgICAgIHNyY1kgPSBudWxsLFxuICAgICAgICBzcmNXID0gbnVsbCxcbiAgICAgICAgc3JjSCA9IG51bGxcbiAgICApIHtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoZmlsZXBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICB0aGlzLmltZy5zcmMgPSBpbWFnZVBhdGgoZmlsZXBhdGgpO1xuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5pbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3JjWCA9IHNyY1g7XG4gICAgICAgIHRoaXMuc3JjWSA9IHNyY1k7XG4gICAgICAgIHRoaXMuc3JjVyA9IHNyY1c7XG4gICAgICAgIHRoaXMuc3JjSCA9IHNyY0g7XG5cbiAgICAgICAgdGhpcy5kcmF3ID0gdGhpcy5kcmF3LmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogYW55LCB5OiBhbnksIHc6IGFueSwgaDogYW55KSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubmFtZSwgeCwgeSwgdywgaCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuc3JjWCAhPSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLnNyY1kgIT0gbnVsbCAmJlxuICAgICAgICAgICAgdGhpcy5zcmNXICE9IG51bGwgJiZcbiAgICAgICAgICAgIHRoaXMuc3JjSCAhPSBudWxsXG4gICAgICAgICkge1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICB0aGlzLmltZyxcbiAgICAgICAgICAgICAgICB0aGlzLnNyY1gsXG4gICAgICAgICAgICAgICAgdGhpcy5zcmNZLFxuICAgICAgICAgICAgICAgIHRoaXMuc3JjVyxcbiAgICAgICAgICAgICAgICB0aGlzLnNyY0gsXG4gICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgIHcsXG4gICAgICAgICAgICAgICAgaFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIHgsIHksIHcsIGgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi9vYmplY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNwcml0ZU9iamVjdCBleHRlbmRzIEdhbWVPYmplY3Qge1xuICAgIHNwcjogU3ByaXRlO1xuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyLCBzcHJpdGU6IFNwcml0ZSkge1xuICAgICAgICBzdXBlcih4LCB5LCB3LCBoKTtcblxuICAgICAgICB0aGlzLnNwciA9IHNwcml0ZTtcbiAgICB9XG5cbiAgICBzcHJpdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwcjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTcHJpdGVPYmplY3QgfSBmcm9tIFwiLi9zcHJpdGVcIjtcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuL1ZlY3RvclwiO1xuXG5leHBvcnQgbGV0IGNvbGxpZGVycyA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb2xsaWRlcihjb2xsOiBPYmplY3QpIHtcbiAgICBjb2xsaWRlcnMucHVzaChjb2xsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcnJlY3RDb2xsaXNpb25zKHBvczogU3ByaXRlT2JqZWN0LCBkZWx0YTogVmVjdG9yKSB7XG4gICAgY29uc3QgYmxlZnQgPSBwb3MueCArIGRlbHRhLng7XG4gICAgY29uc3QgYnJpZ2h0ID0gcG9zLnggKyBwb3MudyArIGRlbHRhLng7XG4gICAgY29uc3QgYnRvcCA9IHBvcy55ICsgZGVsdGEueTtcbiAgICBjb25zdCBiYm90ID0gcG9zLnkgKyBwb3MuaCArIGRlbHRhLnk7XG5cbiAgICBmb3IgKGNvbnN0IGMgb2YgY29sbGlkZXJzKSB7XG4gICAgICAgIGNvbnN0IGNsZWZ0ID0gYy54O1xuICAgICAgICBjb25zdCBjcmlnaHQgPSBjLnggKyBjLnc7XG4gICAgICAgIGNvbnN0IGN0b3AgPSBjLnk7XG4gICAgICAgIGNvbnN0IGNib3QgPSBjLnkgKyBjLmg7XG5cbiAgICAgICAgLy8gQ2hlY2sgY29sbGlzaW9uXG4gICAgICAgIGlmIChibGVmdCA+IGNyaWdodCB8fCBicmlnaHQgPCBjbGVmdCB8fCBidG9wID4gY2JvdCB8fCBiYm90IDwgY3RvcCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBpcyBzb21lIGNvbGxpc2lvblxuICAgICAgICBjb25zdCBiY2VudGVyID0ge1xuICAgICAgICAgICAgeDogYmxlZnQgKyBicmlnaHQgLyAyLFxuICAgICAgICAgICAgeTogYmJvdCArIGJ0b3AgLyAyXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNjZW50ZXIgPSB7XG4gICAgICAgICAgICB4OiBjbGVmdCArIGNyaWdodCAvIDIsXG4gICAgICAgICAgICB5OiBjYm90ICsgY3RvcCAvIDJcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB7XG4gICAgICAgICAgICB4OiAoYmNlbnRlci54IC0gY2NlbnRlci54KSAvIE1hdGguYWJzKGJjZW50ZXIueCAtIGNjZW50ZXIueCksXG4gICAgICAgICAgICB5OiAoYmNlbnRlci55IC0gY2NlbnRlci55KSAvIE1hdGguYWJzKGJjZW50ZXIueSAtIGNjZW50ZXIueSlcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uLnggPiAwKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uLnkgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGJsZWZ0IC0gY3JpZ2h0KSA8IE1hdGguYWJzKGJ0b3AgLSBjYm90KSkge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YS54ID0gY3JpZ2h0ICsgMC4wMDEgLSBwb3MueDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YS55ID0gY2JvdCArIDAuMDAxIC0gcG9zLnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYmxlZnQgLSBjcmlnaHQpIDwgTWF0aC5hYnMoYmJvdCAtIGN0b3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhLnggPSBjcmlnaHQgKyAwLjAwMSAtIHBvcy54O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhLnkgPSBjdG9wIC0gMC4wMDEgLSAocG9zLnkgKyBwb3MuaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbi55ID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhicmlnaHQgLSBjbGVmdCkgPCBNYXRoLmFicyhidG9wIC0gY2JvdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEueCA9IGNsZWZ0IC0gMC4wMDEgLSAocG9zLnggKyBwb3Mudyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEueSA9IGNib3QgKyAwLjAwMSAtIHBvcy55O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGJyaWdodCAtIGNsZWZ0KSA8IE1hdGguYWJzKGJib3QgLSBjdG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YS54ID0gY2xlZnQgLSAwLjAwMSAtIChwb3MueCArIHBvcy53KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YS55ID0gY3RvcCAtIDAuMDAxIC0gKHBvcy55ICsgcG9zLmgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWx0YTtcbn1cbiIsImltcG9ydCB7IGNhbnZhcyB9IGZyb20gXCIuL3JlbmRlcmluZ1wiO1xuXG5leHBvcnQgbGV0IG1vdXNlZG93biA9IGZhbHNlO1xuZXhwb3J0IGxldCByaWdodE1vdXNlZG93biA9IGZhbHNlO1xuZXhwb3J0IGxldCBtb3VzZVBvc2l0aW9uID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxufTtcblxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZXYpIHtcbiAgICBpZiAoZXYuYnV0dG9uID09IDApIHtcbiAgICAgICAgbW91c2Vkb3duID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGV2LmJ1dHRvbiA9PSAyKSB7XG4gICAgICAgIHJpZ2h0TW91c2Vkb3duID0gdHJ1ZTtcbiAgICB9XG59KTtcblxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKGV2LmJ1dHRvbiA9PSAwKSB7XG4gICAgICAgIG1vdXNlZG93biA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoZXYuYnV0dG9uID09IDIpIHtcbiAgICAgICAgcmlnaHRNb3VzZWRvd24gPSBmYWxzZTtcbiAgICB9XG59KTtcblxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oZXYpIHtcbiAgICBtb3VzZVBvc2l0aW9uLnggPSBldi5vZmZzZXRYO1xuICAgIG1vdXNlUG9zaXRpb24ueSA9IGV2Lm9mZnNldFk7XG59KTtcbiIsImltcG9ydCB7IGdhbWVUb1B4IH0gZnJvbSBcIi4vcmVuZGVyaW5nXCI7XG5pbXBvcnQgU3ByaXRlIGZyb20gXCIuL3Nwcml0ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lT2JqZWN0IHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHc6IG51bWJlcjtcbiAgICBoOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53ID0gdztcbiAgICAgICAgdGhpcy5oID0gaDtcblxuICAgICAgICB0aGlzLmRyYXcgPSB0aGlzLmRyYXcuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlKCkuZHJhdyhcbiAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgIGdhbWVUb1B4KHRoaXMueCksXG4gICAgICAgICAgICBnYW1lVG9QeCh0aGlzLnkpLFxuICAgICAgICAgICAgZ2FtZVRvUHgodGhpcy53KSxcbiAgICAgICAgICAgIGdhbWVUb1B4KHRoaXMuaClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzcHJpdGUoKTogU3ByaXRlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic3ByaXRlKCkgbm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cbn1cbiIsInZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAvLyB3b3JrZXJQYXRoOiAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL25hcHRoYS90ZXNzZXJhY3QuanNAMC4yLjAvZGlzdC93b3JrZXIuanMnLFxuICAgIGNvcmVQYXRoOiAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL25hcHRoYS90ZXNzZXJhY3QuanMtY29yZUAwLjEuMC9pbmRleC5qcycsICAgIFxuICAgIGxhbmdQYXRoOiAnaHR0cHM6Ly90ZXNzZGF0YS5wcm9qZWN0bmFwdGhhLmNvbS8zLjAyLycsXG59XG5cbmlmIChwcm9jZXNzLmVudi5URVNTX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgY29uc29sZS5kZWJ1ZygnVXNpbmcgRGV2ZWxvcG1lbnQgQ29uZmlndXJhdGlvbicpXG4gICAgZGVmYXVsdE9wdGlvbnMud29ya2VyUGF0aCA9IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QgKyAnL2Rpc3Qvd29ya2VyLmRldi5qcz9ub2NhY2hlPScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgzKVxufWVsc2V7XG4gICAgdmFyIHZlcnNpb24gPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuICAgIGRlZmF1bHRPcHRpb25zLndvcmtlclBhdGggPSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL25hcHRoYS90ZXNzZXJhY3QuanNAJyArIHZlcnNpb24gKyAnL2Rpc3Qvd29ya2VyLmpzJ1xufVxuXG5leHBvcnRzLmRlZmF1bHRPcHRpb25zID0gZGVmYXVsdE9wdGlvbnM7XG5cblxuZXhwb3J0cy5zcGF3bldvcmtlciA9IGZ1bmN0aW9uIHNwYXduV29ya2VyKGluc3RhbmNlLCB3b3JrZXJPcHRpb25zKXtcbiAgICBpZihCbG9iICYmIFVSTCl7XG4gICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoWydpbXBvcnRTY3JpcHRzKFwiJyArIHdvcmtlck9wdGlvbnMud29ya2VyUGF0aCArICdcIik7J10sIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHdvcmtlciA9IG5ldyBXb3JrZXIoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgfWVsc2V7XG4gICAgICAgIHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlck9wdGlvbnMud29ya2VyUGF0aClcbiAgICB9XG5cbiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZSl7XG4gICAgICAgIHZhciBwYWNrZXQgPSBlLmRhdGE7XG4gICAgICAgIGluc3RhbmNlLl9yZWN2KHBhY2tldClcbiAgICB9XG4gICAgcmV0dXJuIHdvcmtlclxufVxuXG5leHBvcnRzLnRlcm1pbmF0ZVdvcmtlciA9IGZ1bmN0aW9uKGluc3RhbmNlKXtcbiAgICBpbnN0YW5jZS53b3JrZXIudGVybWluYXRlKClcbn1cblxuZXhwb3J0cy5zZW5kUGFja2V0ID0gZnVuY3Rpb24gc2VuZFBhY2tldChpbnN0YW5jZSwgcGFja2V0KXtcbiAgICBsb2FkSW1hZ2UocGFja2V0LnBheWxvYWQuaW1hZ2UsIGZ1bmN0aW9uKGltZyl7XG4gICAgICAgIHBhY2tldC5wYXlsb2FkLmltYWdlID0gaW1nXG4gICAgICAgIGluc3RhbmNlLndvcmtlci5wb3N0TWVzc2FnZShwYWNrZXQpIFxuICAgIH0pXG59XG5cblxuZnVuY3Rpb24gbG9hZEltYWdlKGltYWdlLCBjYil7XG4gICAgaWYodHlwZW9mIGltYWdlID09PSAnc3RyaW5nJyl7XG4gICAgICAgIGlmKC9eXFwjLy50ZXN0KGltYWdlKSl7XG4gICAgICAgICAgICAvLyBlbGVtZW50IGNzcyBzZWxlY3RvclxuICAgICAgICAgICAgcmV0dXJuIGxvYWRJbWFnZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGltYWdlKSwgY2IpXG4gICAgICAgIH1lbHNlIGlmKC8oYmxvYnxkYXRhKVxcOi8udGVzdChpbWFnZSkpe1xuICAgICAgICAgICAgLy8gZGF0YSB1cmxcbiAgICAgICAgICAgIHZhciBpbSA9IG5ldyBJbWFnZVxuICAgICAgICAgICAgaW0uc3JjID0gaW1hZ2U7XG4gICAgICAgICAgICBpbS5vbmxvYWQgPSBlID0+IGxvYWRJbWFnZShpbSwgY2IpO1xuICAgICAgICAgICAgaW0ub25lcnJvciA9IGUgPT4geyB0aHJvdyBlOyB9O1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIGltYWdlLCB0cnVlKVxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYmxvYlwiO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gNDAwKXtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbCB0byBnZXQgaW1hZ2UgYXMgQmxvYicpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBsb2FkSW1hZ2UoeGhyLnJlc3BvbnNlLCBjYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5vbmVycm9yID0gZSA9PiB7IHRocm93IGU7IH07IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB4aHIuc2VuZChudWxsKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICB9ZWxzZSBpZihpbWFnZSBpbnN0YW5jZW9mIEZpbGUpe1xuICAgICAgICAvLyBmaWxlc1xuICAgICAgICB2YXIgZnIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgICAgIGZyLm9ubG9hZCA9IGUgPT4gbG9hZEltYWdlKGZyLnJlc3VsdCwgY2IpO1xuICAgICAgICBmci5vbmVycm9yID0gZSA9PiB7IHRocm93IGU7IH07IFxuICAgICAgICBmci5yZWFkQXNEYXRhVVJMKGltYWdlKVxuICAgICAgICByZXR1cm5cbiAgICB9ZWxzZSBpZihpbWFnZSBpbnN0YW5jZW9mIEJsb2Ipe1xuICAgICAgICByZXR1cm4gbG9hZEltYWdlKFVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2UpLCBjYilcbiAgICB9ZWxzZSBpZihpbWFnZS5nZXRDb250ZXh0KXtcbiAgICAgICAgLy8gY2FudmFzIGVsZW1lbnRcbiAgICAgICAgcmV0dXJuIGxvYWRJbWFnZShpbWFnZS5nZXRDb250ZXh0KCcyZCcpLCBjYilcbiAgICB9ZWxzZSBpZihpbWFnZS50YWdOYW1lID09IFwiSU1HXCIgfHwgaW1hZ2UudGFnTmFtZSA9PSBcIlZJREVPXCIpe1xuICAgICAgICAvLyBpbWFnZSBlbGVtZW50IG9yIHZpZGVvIGVsZW1lbnRcbiAgICAgICAgdmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgYy53aWR0aCAgPSBpbWFnZS5uYXR1cmFsV2lkdGggIHx8IGltYWdlLnZpZGVvV2lkdGg7XG4gICAgICAgIGMuaGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodCB8fCBpbWFnZS52aWRlb0hlaWdodDtcbiAgICAgICAgdmFyIGN0eCA9IGMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgICAgIHJldHVybiBsb2FkSW1hZ2UoY3R4LCBjYilcbiAgICB9ZWxzZSBpZihpbWFnZS5nZXRJbWFnZURhdGEpe1xuICAgICAgICAvLyBjYW52YXMgY29udGV4dFxuICAgICAgICB2YXIgZGF0YSA9IGltYWdlLmdldEltYWdlRGF0YSgwLCAwLCBpbWFnZS5jYW52YXMud2lkdGgsIGltYWdlLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICByZXR1cm4gbG9hZEltYWdlKGRhdGEsIGNiKVxuICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gY2IoaW1hZ2UpXG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXR1cm4gaW4gbG9hZEltYWdlIGNhc2NhZGUnKVxuXG59XG4iLCJpbXBvcnQgKiBhcyBicm9uYSBmcm9tIFwiLi9icm9uYVwiO1xuaW1wb3J0IHsgRmFkZXIgfSBmcm9tIFwiLi9GYWRlclwiO1xuaW1wb3J0IHsgY2FudmFzLCBjdHggfSBmcm9tIFwiLi9yZW5kZXJpbmdcIjtcbmltcG9ydCB7IHNwZWxsU3RhdGUgfSBmcm9tIFwiLi9zcGVsbHNcIjtcbmltcG9ydCBTcHJpdGUgZnJvbSBcIi4vc3ByaXRlXCI7XG5pbXBvcnQgeyBUaWxlbWFwIH0gZnJvbSBcIi4vdGlsZXNcIjtcblxuXG5sZXQgZm9yZXN0VGlsZXMgPSBuZXcgVGlsZW1hcChcImZvcmVzdF90aWxlcy5wbmdcIiwgMTIsIDE2LCAzMik7XG5cbmZvcmVzdFRpbGVzLmxvYWRUaWxlKDAsIDEzLCBcIk11c2hyb29tXCIpO1xuZm9yZXN0VGlsZXMubG9hZFRpbGUoMCwgMTMsIFwiTXVzaHJvb21cIiwgMCwgMSk7XG5mb3Jlc3RUaWxlcy5sb2FkVGlsZSg2LCAwLCBcIlBpbmVfMVwiLCAyLCA0KTtcbmZvcmVzdFRpbGVzLmxvYWRUaWxlKDcsIDAsIFwiUGluZV8yXCIsIDIsIDUpO1xuZm9yZXN0VGlsZXMubG9hZFRpbGUoNiwgMSwgXCJQaW5lXzNcIiwgMywgNCk7XG5mb3Jlc3RUaWxlcy5sb2FkVGlsZSg3LCAxLCBcIlBpbmVfNFwiLCAzLCA1KTtcblxuZm9yZXN0VGlsZXMubG9hZE9iamVjdCgwLCA2LCBcIlBpdF8xXzFcIiwgNSwgNSwgMSwgMSwgdHJ1ZSk7XG5mb3Jlc3RUaWxlcy5sb2FkT2JqZWN0KDAsIDcsIFwiUGl0XzJfMVwiLCA2LCA1LCAxLCAxLCB0cnVlKTtcbmZvcmVzdFRpbGVzLmxvYWRPYmplY3QoMCwgOCwgXCJQaXRfM18xXCIsIDcsIDUsIDEsIDEsIHRydWUpO1xuZm9yZXN0VGlsZXMubG9hZE9iamVjdCgxLCA2LCBcIlBpdF8xXzJcIiwgNSwgNiwgMSwgMSwgdHJ1ZSk7XG5mb3Jlc3RUaWxlcy5sb2FkT2JqZWN0KDEsIDcsIFwiUGl0XzJfMlwiLCA2LCA2LCAxLCAxLCB0cnVlKTtcbmZvcmVzdFRpbGVzLmxvYWRPYmplY3QoMSwgOCwgXCJQaXRfM18yXCIsIDcsIDYsIDEsIDEsIHRydWUpO1xuZm9yZXN0VGlsZXMubG9hZE9iamVjdCgyLCA2LCBcIlBpdF8xXzNcIiwgNSwgNywgMSwgMSwgdHJ1ZSk7XG5mb3Jlc3RUaWxlcy5sb2FkT2JqZWN0KDIsIDcsIFwiUGl0XzJfM1wiLCA2LCA3LCAxLCAxLCB0cnVlKTtcbmZvcmVzdFRpbGVzLmxvYWRPYmplY3QoMiwgOCwgXCJQaXRfM18zXCIsIDcsIDcsIDEsIDEsIHRydWUpO1xuXG5jb25zdCBiZyA9IG5ldyBTcHJpdGUoXCJmb3Jlc3QucG5nXCIpO1xuXG5sZXQgZmFkZURvd24gPSBuZXcgRmFkZXIoMC4yLCAwLjYsIDAuMDEpO1xubGV0IGZhZGVVcCA9IG5ldyBGYWRlcigwLCAwLjYsIC0wLjAxKTtcbmxldCB0aW1lU2NhbGUgPSBuZXcgRmFkZXIoMC4wNSwgMSwgLTAuMSwgMC45KTtcbmZhZGVVcC52YWx1ZSA9IDA7XG5cbmZ1bmN0aW9uIHJlbmRlck9iamVjdHMoKSB7XG4gICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMuY2xpZW50V2lkdGgsIGNhbnZhcy5jbGllbnRIZWlnaHQpO1xuXG4gICAgLy8gRHJhdyBiYWNrZ3JvdW5kIGltYWdlXG4gICAgYmcuZHJhdyhjdHgsIDAsIDAsIGNhbnZhcy5jbGllbnRXaWR0aCwgY2FudmFzLmNsaWVudEhlaWdodCk7XG5cbiAgICAvLyBEcmF3IGxvYWRlZCB0aWxlc1xuICAgIGZvciAoY29uc3QgdGlsZSBvZiBmb3Jlc3RUaWxlcy50aWxlcykge1xuICAgICAgICB0aWxlLmRyYXcoY3R4KTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IEJyb25hXG4gICAgYnJvbmEub2JqLmRyYXcoY3R4KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheVNwZWxsSW5mbygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwZWxsLWRpc3BsYXlcIikuaW5uZXJIVE1MID0gc3BlbGxTdGF0ZS50b1N0cmluZygpO1xufVxuXG5mdW5jdGlvbiBkb0ZhZGVVcCgpIHtcbiAgICBjb25zdCBvcmlnaW5hbEFscGhhID0gY3R4Lmdsb2JhbEFscGhhO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IGZhZGVVcC52YWx1ZTtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLmNsaWVudFdpZHRoLCBjYW52YXMuY2xpZW50SGVpZ2h0KTtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSBvcmlnaW5hbEFscGhhO1xuXG4gICAgZmFkZVVwLmluY3JlbWVudCgpO1xufVxuXG5mdW5jdGlvbiBkb0ZhZGVEb3duKCkge1xuICAgIGNvbnN0IG9yaWdpbmFsQWxwaGEgPSBjdHguZ2xvYmFsQWxwaGE7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gZmFkZURvd24udmFsdWU7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy5jbGllbnRXaWR0aCwgY2FudmFzLmNsaWVudEhlaWdodCk7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gb3JpZ2luYWxBbHBoYTtcblxuICAgIGZhZGVEb3duLmluY3JlbWVudCgpO1xufVxuXG4vLyBNYWluIGdhbWUgbG9vcC4gT25seSBleGl0cyBmcm9tIGl0IHRvIHN3aXRjaCB0byBhIHNlY29uZGFyeSByZW5kZXJpbmcgbG9vcC5cbmZ1bmN0aW9uIG1haW5Mb29wKCkge1xuICAgIGJyb25hLm1vdmVCcm9uYSh0aW1lU2NhbGUudmFsdWUpO1xuICAgIHJlbmRlck9iamVjdHMoKTtcblxuICAgIGRpc3BsYXlTcGVsbEluZm8oKTtcblxuICAgIGlmIChzcGVsbFN0YXRlLmlzQ2FzdGluZykge1xuICAgICAgICBkb0ZhZGVEb3duKCk7XG4gICAgICAgIGZhZGVVcC5yZXNldCgpO1xuXG4gICAgICAgIHRpbWVTY2FsZS5pbmNyZW1lbnQoKTtcblxuICAgICAgICBzcGVsbFN0YXRlLmRyYXdTcGVsbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvRmFkZVVwKCk7XG4gICAgICAgIGZhZGVEb3duLnJlc2V0KCk7XG4gICAgICAgIHRpbWVTY2FsZS5yZXNldCgpO1xuICAgIH1cblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApO1xufVxubWFpbkxvb3AoKTtcbiIsImltcG9ydCB7IGNvcnJlY3RDb2xsaXNpb25zIH0gZnJvbSBcIi4vY29sbGlkZXJzXCI7XG5pbXBvcnQgKiBhcyBjb250cm9sIGZyb20gXCIuL2NvbnRyb2xcIjtcbmltcG9ydCB7IGNhbnZhcywgcHhUb0dhbWUgfSBmcm9tIFwiLi9yZW5kZXJpbmdcIjtcbmltcG9ydCBTcHJpdGUsIHsgU3ByaXRlT2JqZWN0IH0gZnJvbSBcIi4vc3ByaXRlXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9WZWN0b3JcIjtcblxuLy8gTW92ZW1lbnQgaGFuZGxlcnNcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKGV2LmJ1dHRvbiA9PSAwKSB7XG4gICAgICAgIHRhcmdldChjb250cm9sLm1vdXNlUG9zaXRpb24ueCwgY29udHJvbC5tb3VzZVBvc2l0aW9uLnkpO1xuICAgIH1cbn0pO1xuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgaWYgKGNvbnRyb2wubW91c2Vkb3duKSB7XG4gICAgICAgIHRhcmdldChjb250cm9sLm1vdXNlUG9zaXRpb24ueCwgY29udHJvbC5tb3VzZVBvc2l0aW9uLnkpO1xuICAgIH1cbn0pO1xuXG5leHBvcnQgY29uc3Qgb2JqID0gbmV3IFNwcml0ZU9iamVjdChcbiAgICAzLFxuICAgIDQsXG4gICAgMSxcbiAgICAxLFxuICAgIG5ldyBTcHJpdGUoXCJicm9uYS5wbmdcIiwgXCJCcm9uYVwiKVxuKTtcbmNvbnN0IHNwZWVkID0gMC4zO1xuXG5sZXQgdGFyZ2V0UG9zaXRpb24gPSB7XG4gICAgeDogbnVsbCxcbiAgICB5OiBudWxsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGFyZ2V0UG9zaXRpb24gPSB7XG4gICAgICAgIHg6IHB4VG9HYW1lKHgpIC0gb2JqLncgLyAyLFxuICAgICAgICB5OiBweFRvR2FtZSh5KSAtIG9iai5oIC8gMlxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxUYXJnZXRQb3NpdGlvbigpIHtcbiAgICB0YXJnZXRQb3NpdGlvbi54ID0gbnVsbDtcbiAgICB0YXJnZXRQb3NpdGlvbi55ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0Q29sbGlzaW9uRGVsdGEoZGVsdGE6IFZlY3Rvcik6IFZlY3RvciB7XG4gICAgbGV0IGNvbGxEZWx0YSA9IGNvcnJlY3RDb2xsaXNpb25zKG9iaiwgZGVsdGEpO1xuXG4gICAgaWYgKGNvbGxEZWx0YS54IHx8IGNvbGxEZWx0YS55KSB7XG4gICAgICAgIGRlbHRhID0gY29sbERlbHRhO1xuICAgIH1cblxuICAgIHJldHVybiBkZWx0YTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5wdXREZWx0YSgpOiBWZWN0b3Ige1xuICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgfTtcbiAgICBpZiAodGFyZ2V0UG9zaXRpb24ueCAhPSBudWxsKSB7XG4gICAgICAgIGRlbHRhLnggPSB0YXJnZXRQb3NpdGlvbi54IC0gb2JqLng7XG4gICAgfVxuICAgIGlmICh0YXJnZXRQb3NpdGlvbi55ICE9IG51bGwpIHtcbiAgICAgICAgZGVsdGEueSA9IHRhcmdldFBvc2l0aW9uLnkgLSBvYmoueTtcbiAgICB9XG4gICAgcmV0dXJuIGRlbHRhO1xufVxuXG5mdW5jdGlvbiBnZXRNb3ZlbWVudERlbHRhKGRlbHRhOiBWZWN0b3IpOiBWZWN0b3Ige1xuICAgIGNvbnN0IG1hZ25pdHVkZSA9IE1hdGguc3FydChkZWx0YS54ICogZGVsdGEueCArIGRlbHRhLnkgKiBkZWx0YS55KTtcbiAgICBpZiAobWFnbml0dWRlID4gMCkge1xuICAgICAgICBjb25zdCB1bml0RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBkZWx0YS54IC8gbWFnbml0dWRlLFxuICAgICAgICAgICAgeTogZGVsdGEueSAvIG1hZ25pdHVkZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB1bml0RGVsdGEueCAqIHNwZWVkLFxuICAgICAgICAgICAgeTogdW5pdERlbHRhLnkgKiBzcGVlZFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVCcm9uYSh0aW1lU2NhbGUpIHtcbiAgICBjb25zdCBpbnB1dERlbHRhID0gZ2V0SW5wdXREZWx0YSgpO1xuICAgIGxldCBtb3ZlbWVudERlbHRhID0gZ2V0TW92ZW1lbnREZWx0YShpbnB1dERlbHRhKTtcblxuICAgIGlmIChcbiAgICAgICAgTWF0aC5zcXJ0KGlucHV0RGVsdGEueCAqIGlucHV0RGVsdGEueCArIGlucHV0RGVsdGEueSAqIGlucHV0RGVsdGEueSkgPD1cbiAgICAgICAgc3BlZWRcbiAgICApIHtcbiAgICAgICAgLy8gV2l0aGluIHNtYWxsIGRpc3RhbmNlIG9mIHRhcmdldCAtXG4gICAgICAgIC8vIGNvcnJlY3QgdG8gZXhhY3QgYW5kIHJlc2V0IHRhcmdldFBvc2l0aW9uLlxuICAgICAgICBtb3ZlbWVudERlbHRhID0gaW5wdXREZWx0YTtcbiAgICAgICAgY2FuY2VsVGFyZ2V0UG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICBjb25zdCBwb3N0Q29sbGlzaW9uRGVsdGEgPSBnZXRDb2xsaXNpb25EZWx0YShtb3ZlbWVudERlbHRhKTtcblxuICAgIGNvbnN0IHRpbWVTY2FsZWREZWx0YSA9IHtcbiAgICAgICAgeDogcG9zdENvbGxpc2lvbkRlbHRhLnggKiB0aW1lU2NhbGUsXG4gICAgICAgIHk6IHBvc3RDb2xsaXNpb25EZWx0YS55ICogdGltZVNjYWxlXG4gICAgfTtcblxuICAgIG9iai54ICs9IHRpbWVTY2FsZWREZWx0YS54O1xuICAgIG9iai55ICs9IHRpbWVTY2FsZWREZWx0YS55O1xuXG4gICAgZ2V0Q29sbGlzaW9uRGVsdGEoaW5wdXREZWx0YSk7XG59XG4iLCJleHBvcnQgY2xhc3MgRmFkZXIge1xuICAgIHByaXZhdGUgcmFuZ2U6IGFueTtcbiAgICBwcml2YXRlIG9yaWdpbmFsSW5jOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBpbmM6IG51bWJlcjtcbiAgICBwcml2YXRlIGN1cnJlbnRWYWx1ZTogbnVtYmVyO1xuICAgIHByaXZhdGUgYWNjZWxGYWN0b3I6IG51bWJlcjtcbiAgICBwcml2YXRlIGRvbmVGYWRpbmc6IGJvb2xlYW47XG5cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICB9XG4gICAgc2V0IHZhbHVlKGlucHV0KSB7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gaW5wdXQ7XG4gICAgfVxuICAgIGdldCBkb25lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb25lRmFkaW5nO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihtaW4sIG1heCwgaW5jLCBhY2NlbEZhY3RvciA9IDEpIHtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHtcbiAgICAgICAgICAgIG1pbixcbiAgICAgICAgICAgIG1heFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmluYyA9IGluYztcbiAgICAgICAgdGhpcy5vcmlnaW5hbEluYyA9IGluYztcbiAgICAgICAgdGhpcy5hY2NlbEZhY3RvciA9IGFjY2VsRmFjdG9yO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIGluY3JlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZG9uZUZhZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlICs9IHRoaXMuaW5jO1xuICAgICAgICB0aGlzLmluYyA9IHRoaXMuaW5jICogdGhpcy5hY2NlbEZhY3RvcjtcbiAgICAgICAgaWYgKHRoaXMuaW5jID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlID49IHRoaXMucmFuZ2UubWF4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB0aGlzLnJhbmdlLm1heDtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmVGYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlIDw9IHRoaXMucmFuZ2UubWluKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB0aGlzLnJhbmdlLm1pbjtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbmVGYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmluYyA9IHRoaXMub3JpZ2luYWxJbmM7XG4gICAgICAgIGlmICh0aGlzLmluYyA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy5yYW5nZS5taW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHRoaXMucmFuZ2UubWF4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZG9uZUZhZGluZyA9IGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHJpZ2h0TW91c2Vkb3duIH0gZnJvbSBcIi4vY29udHJvbFwiO1xuaW1wb3J0IHsgY2FudmFzIH0gZnJvbSBcIi4vcmVuZGVyaW5nXCI7XG5pbXBvcnQgeyBTcGVsbFN0YXRlIH0gZnJvbSBcIi4vU3BlbGxTdGF0ZVwiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vVmVjdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBzcGVsbFN0YXRlID0gbmV3IFNwZWxsU3RhdGUoKTtcblxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJjb250ZXh0bWVudVwiLFxuICAgIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGZhbHNlXG4pO1xuXG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBmdW5jdGlvbihldikge1xuICAgIGlmIChldi5idXR0b24gPT0gMikge1xuICAgICAgICBzcGVsbFN0YXRlLnN0YXJ0U3BlbGwoKTtcbiAgICAgICAgc3BlbGxTdGF0ZS5yZXNldFNwZWxsUG9pbnRzKCk7XG4gICAgfVxufSk7XG5cbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKHNwZWxsU3RhdGUuaXNDYXN0aW5nICYmIHJpZ2h0TW91c2Vkb3duKSB7XG4gICAgICAgIHNwZWxsU3RhdGUuYWRkU3BlbGxQb2ludChuZXcgVmVjdG9yKGV2Lm9mZnNldFgsIGV2Lm9mZnNldFkpKTtcbiAgICB9XG59KTtcblxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKGV2LmJ1dHRvbiA9PSAyKSB7XG4gICAgICAgIGlmIChzcGVsbFN0YXRlLmlzQ2FzdGluZykge1xuICAgICAgICAgICAgc3BlbGxTdGF0ZS5zYXZlU3BlbGwoKTtcbiAgICAgICAgICAgIHNwZWxsU3RhdGUuc3RhcnRTcGVsbEV4cGlyeSgpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgVGVzc2VyYWN0IGZyb20gXCJ0ZXNzZXJhY3QuanNcIjtcbmltcG9ydCB7IGNhbnZhcywgY3R4IH0gZnJvbSBcIi4vcmVuZGVyaW5nXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9WZWN0b3JcIjtcbmV4cG9ydCBjbGFzcyBTcGVsbFN0YXRlIHtcbiAgICBwcml2YXRlIGNhc3Rpbmc6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBzcGVsbFBvaW50czogQXJyYXk8VmVjdG9yPjtcbiAgICBwcml2YXRlIHNwZWxsTGV0dGVyczogQXJyYXk8c3RyaW5nPjtcbiAgICBwcml2YXRlIGNhc3RpbmdUaW1lb3V0OiBOb2RlSlMuVGltZW91dDtcbiAgICBwcml2YXRlIHNwZWxsQ29va2luZzogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNhc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVsbFBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNwZWxsTGV0dGVycyA9IFtdO1xuICAgICAgICB0aGlzLmNhc3RpbmdUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zcGVsbENvb2tpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgaXNDYXN0aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXN0aW5nO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5zcGVsbExldHRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3BlbGxMZXR0ZXJzLmpvaW4oXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zcGVsbENvb2tpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlNwZWxsIGNvb2tpbmcuLi5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIk5vIHNwZWxsXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldFNwZWxsUG9pbnRzKCkge1xuICAgICAgICB0aGlzLnNwZWxsUG9pbnRzID0gW107XG4gICAgfVxuXG4gICAgYWRkU3BlbGxQb2ludChweFBvczogVmVjdG9yKSB7XG4gICAgICAgIHRoaXMuc3BlbGxQb2ludHMucHVzaCh7IHg6IHB4UG9zLngsIHk6IHB4UG9zLnkgfSk7XG4gICAgfVxuXG4gICAgc3RhcnRTcGVsbCgpIHtcbiAgICAgICAgdGhpcy5jYXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY2FzdGluZ1RpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNhc3RpbmdUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhc3RpbmdUaW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gICAgc3RhcnRTcGVsbEV4cGlyeSgpIHtcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhc3RpbmdUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuY2FzdGluZyA9IGZhbHNlO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICB9XG5cbiAgICBkcmF3U3BlbGwoKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDMwO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIm9yYW5nZVwiO1xuICAgICAgICBpZiAodGhpcy5zcGVsbFBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHRoaXMuc3BlbGxQb2ludHNbMF0ueCwgdGhpcy5zcGVsbFBvaW50c1swXS55KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcG9zIG9mIHRoaXMuc3BlbGxQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKHBvcy54LCBwb3MueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHNhdmVTcGVsbCgpIHtcbiAgICAgICAgbGV0IG1lbW9yeUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIG1lbW9yeUNhbnZhcy53aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgICAgbWVtb3J5Q2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGxldCBtZW1vcnlDdHggPSBtZW1vcnlDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBtZW1vcnlDdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICAgIG1lbW9yeUN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICAgIG1lbW9yeUN0eC5maWxsUmVjdCgwLCAwLCBtZW1vcnlDYW52YXMud2lkdGgsIG1lbW9yeUNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBtZW1vcnlDdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIG1lbW9yeUN0eC5saW5lV2lkdGggPSAzMDtcbiAgICAgICAgbWVtb3J5Q3R4LnN0cm9rZVN0eWxlID0gXCJvcmFuZ2VcIjtcbiAgICAgICAgaWYgKHRoaXMuc3BlbGxQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbWVtb3J5Q3R4Lm1vdmVUbyh0aGlzLnNwZWxsUG9pbnRzWzBdLngsIHRoaXMuc3BlbGxQb2ludHNbMF0ueSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBvcyBvZiB0aGlzLnNwZWxsUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgbWVtb3J5Q3R4LmxpbmVUbyhwb3MueCwgcG9zLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1lbW9yeUN0eC5zdHJva2UoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGVsbC1kaXNwbGF5XCIpLmlubmVySFRNTCA9IFwiVGhpbmtpbmcuLi5cIjtcblxuICAgICAgICB0aGlzLnNwZWxsQ29va2luZyA9IHRydWU7XG4gICAgICAgIFRlc3NlcmFjdC5yZWNvZ25pemUobWVtb3J5Q2FudmFzKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICB0aGlzLnNwZWxsTGV0dGVycy5wdXNoKHJlc3VsdC50ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuc3BlbGxDb29raW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVzZXRTcGVsbFBvaW50cygpO1xuICAgIH1cbn1cbiIsImNvbnN0IGFkYXB0ZXIgPSByZXF1aXJlKCcuL25vZGUvaW5kZXguanMnKVxuY29uc3QgY2lyY3VsYXJpemUgPSByZXF1aXJlKCcuL2NvbW1vbi9jaXJjdWxhcml6ZS5qcycpXG5jb25zdCBUZXNzZXJhY3RKb2IgPSByZXF1aXJlKCcuL2NvbW1vbi9qb2InKTtcbmNvbnN0IHZlcnNpb24gPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuXG5jb25zdCBjcmVhdGUgPSBmdW5jdGlvbih3b3JrZXJPcHRpb25zID0ge30pe1xuXHR2YXIgd29ya2VyID0gbmV3IFRlc3NlcmFjdFdvcmtlcihPYmplY3QuYXNzaWduKHt9LCBhZGFwdGVyLmRlZmF1bHRPcHRpb25zLCB3b3JrZXJPcHRpb25zKSk7XG5cdHdvcmtlci5jcmVhdGUgPSBjcmVhdGU7XG5cdHdvcmtlci52ZXJzaW9uID0gdmVyc2lvbjtcblx0cmV0dXJuIHdvcmtlcjtcbn1cblxuY2xhc3MgVGVzc2VyYWN0V29ya2VyIHtcblx0Y29uc3RydWN0b3Iod29ya2VyT3B0aW9ucyl7XG5cdFx0dGhpcy53b3JrZXIgPSBudWxsO1xuXHRcdHRoaXMud29ya2VyT3B0aW9ucyA9IHdvcmtlck9wdGlvbnM7XG5cdFx0dGhpcy5fY3VycmVudEpvYiA9IG51bGw7XG5cdFx0dGhpcy5fcXVldWUgPSBbXTtcblx0fVxuXG5cdHJlY29nbml6ZShpbWFnZSwgb3B0aW9ucyA9IHt9KXtcblx0XHRyZXR1cm4gdGhpcy5fZGVsYXkoam9iID0+IHtcblx0XHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIG9wdGlvbnMgPSB7bGFuZzogb3B0aW9uc31cblx0XHRcdG9wdGlvbnMubGFuZyA9IG9wdGlvbnMubGFuZyB8fCAnZW5nJztcblxuXHRcdFx0am9iLl9zZW5kKCdyZWNvZ25pemUnLCB7IGltYWdlLCBvcHRpb25zLCB3b3JrZXJPcHRpb25zOiB0aGlzLndvcmtlck9wdGlvbnMgfSk7XG5cdFx0fSlcblx0fVxuXHRkZXRlY3QoaW1hZ2UsIG9wdGlvbnMgPSB7fSl7XG5cdFx0cmV0dXJuIHRoaXMuX2RlbGF5KGpvYiA9PiB7XG5cdFx0XHRqb2IuX3NlbmQoJ2RldGVjdCcsIHsgaW1hZ2UsIG9wdGlvbnMsIHdvcmtlck9wdGlvbnM6IHRoaXMud29ya2VyT3B0aW9ucyB9KTtcblx0XHR9KVxuXHR9XG5cblx0dGVybWluYXRlKCl7XG5cdFx0aWYodGhpcy53b3JrZXIpIGFkYXB0ZXIudGVybWluYXRlV29ya2VyKHRoaXMpO1xuXHRcdHRoaXMud29ya2VyID0gbnVsbDtcblx0XHR0aGlzLl9jdXJyZW50Sm9iID0gbnVsbDtcblx0XHR0aGlzLl9xdWV1ZSA9IFtdO1xuXHR9XG5cblx0X2RlbGF5KGZuKXtcblx0XHRpZighdGhpcy53b3JrZXIpIHRoaXMud29ya2VyID0gYWRhcHRlci5zcGF3bldvcmtlcih0aGlzLCB0aGlzLndvcmtlck9wdGlvbnMpO1xuXG5cdFx0dmFyIGpvYiA9IG5ldyBUZXNzZXJhY3RKb2IodGhpcyk7XG5cdFx0dGhpcy5fcXVldWUucHVzaChlID0+IHtcblx0XHRcdHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG5cdFx0XHR0aGlzLl9jdXJyZW50Sm9iID0gam9iO1xuXHRcdFx0Zm4oam9iKTtcblx0XHR9KTtcblx0XHRpZighdGhpcy5fY3VycmVudEpvYikgdGhpcy5fZGVxdWV1ZSgpO1xuXHRcdHJldHVybiBqb2I7XG5cdH1cblxuXHRfZGVxdWV1ZSgpe1xuXHRcdHRoaXMuX2N1cnJlbnRKb2IgPSBudWxsO1xuXHRcdGlmKHRoaXMuX3F1ZXVlLmxlbmd0aCl7XG5cdFx0XHR0aGlzLl9xdWV1ZVswXSgpO1xuXHRcdH1cblx0fVxuXG5cdF9yZWN2KHBhY2tldCl7XG4gICAgICAgIGlmKHBhY2tldC5zdGF0dXMgPT09ICdyZXNvbHZlJyAmJiBwYWNrZXQuYWN0aW9uID09PSAncmVjb2duaXplJyl7XG4gICAgICAgICAgICBwYWNrZXQuZGF0YSA9IGNpcmN1bGFyaXplKHBhY2tldC5kYXRhKTtcbiAgICAgICAgfVxuXG5cdFx0aWYodGhpcy5fY3VycmVudEpvYi5pZCA9PT0gcGFja2V0LmpvYklkKXtcblx0XHRcdHRoaXMuX2N1cnJlbnRKb2IuX2hhbmRsZShwYWNrZXQpXG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybignSm9iIElEICcgKyBwYWNrZXQuam9iSWQgKyAnIG5vdCBrbm93bi4nKVxuXHRcdH1cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZSgpO1xuIiwiLy8gVGhlIHJlc3VsdCBvZiBkdW1wLmpzIGlzIGEgYmlnIEpTT04gdHJlZVxuLy8gd2hpY2ggY2FuIGJlIGVhc2lseSBzZXJpYWxpemVkIChmb3IgaW5zdGFuY2Vcbi8vIHRvIGJlIHNlbnQgZnJvbSBhIHdlYndvcmtlciB0byB0aGUgbWFpbiBhcHBcbi8vIG9yIHRocm91Z2ggTm9kZSdzIElQQyksIGJ1dCB3ZSB3YW50XG4vLyBhIChjaXJjdWxhcikgRE9NLWxpa2UgaW50ZXJmYWNlIGZvciB3YWxraW5nXG4vLyB0aHJvdWdoIHRoZSBkYXRhLiBcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjaXJjdWxhcml6ZShwYWdlKXtcbiAgICBwYWdlLnBhcmFncmFwaHMgPSBbXVxuICAgIHBhZ2UubGluZXMgPSBbXVxuICAgIHBhZ2Uud29yZHMgPSBbXVxuICAgIHBhZ2Uuc3ltYm9scyA9IFtdXG5cbiAgICBwYWdlLmJsb2Nrcy5mb3JFYWNoKGZ1bmN0aW9uKGJsb2NrKXtcbiAgICAgICAgYmxvY2sucGFnZSA9IHBhZ2U7XG5cbiAgICAgICAgYmxvY2subGluZXMgPSBbXVxuICAgICAgICBibG9jay53b3JkcyA9IFtdXG4gICAgICAgIGJsb2NrLnN5bWJvbHMgPSBbXVxuXG4gICAgICAgIGJsb2NrLnBhcmFncmFwaHMuZm9yRWFjaChmdW5jdGlvbihwYXJhKXtcbiAgICAgICAgICAgIHBhcmEuYmxvY2sgPSBibG9jaztcbiAgICAgICAgICAgIHBhcmEucGFnZSA9IHBhZ2U7XG5cbiAgICAgICAgICAgIHBhcmEud29yZHMgPSBbXVxuICAgICAgICAgICAgcGFyYS5zeW1ib2xzID0gW11cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGFyYS5saW5lcy5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpe1xuICAgICAgICAgICAgICAgIGxpbmUucGFyYWdyYXBoID0gcGFyYTtcbiAgICAgICAgICAgICAgICBsaW5lLmJsb2NrID0gYmxvY2s7XG4gICAgICAgICAgICAgICAgbGluZS5wYWdlID0gcGFnZTtcblxuICAgICAgICAgICAgICAgIGxpbmUuc3ltYm9scyA9IFtdXG5cbiAgICAgICAgICAgICAgICBsaW5lLndvcmRzLmZvckVhY2goZnVuY3Rpb24od29yZCl7XG4gICAgICAgICAgICAgICAgICAgIHdvcmQubGluZSA9IGxpbmU7XG4gICAgICAgICAgICAgICAgICAgIHdvcmQucGFyYWdyYXBoID0gcGFyYTtcbiAgICAgICAgICAgICAgICAgICAgd29yZC5ibG9jayA9IGJsb2NrO1xuICAgICAgICAgICAgICAgICAgICB3b3JkLnBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgICAgICAgICB3b3JkLnN5bWJvbHMuZm9yRWFjaChmdW5jdGlvbihzeW0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ltLndvcmQgPSB3b3JkO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ltLmxpbmUgPSBsaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ltLnBhcmFncmFwaCA9IHBhcmE7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeW0uYmxvY2sgPSBibG9jaztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bS5wYWdlID0gcGFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ltLmxpbmUuc3ltYm9scy5wdXNoKHN5bSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bS5wYXJhZ3JhcGguc3ltYm9scy5wdXNoKHN5bSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bS5ibG9jay5zeW1ib2xzLnB1c2goc3ltKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3ltLnBhZ2Uuc3ltYm9scy5wdXNoKHN5bSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgd29yZC5wYXJhZ3JhcGgud29yZHMucHVzaCh3b3JkKVxuICAgICAgICAgICAgICAgICAgICB3b3JkLmJsb2NrLndvcmRzLnB1c2god29yZClcbiAgICAgICAgICAgICAgICAgICAgd29yZC5wYWdlLndvcmRzLnB1c2god29yZClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGxpbmUuYmxvY2subGluZXMucHVzaChsaW5lKVxuICAgICAgICAgICAgICAgIGxpbmUucGFnZS5saW5lcy5wdXNoKGxpbmUpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcGFyYS5wYWdlLnBhcmFncmFwaHMucHVzaChwYXJhKVxuICAgICAgICB9KVxuICAgIH0pXG4gICAgcmV0dXJuIHBhZ2Vcbn0iLCJjb25zdCBhZGFwdGVyID0gcmVxdWlyZSgnLi4vbm9kZS9pbmRleC5qcycpXG5cbmxldCBqb2JDb3VudGVyID0gMDtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBUZXNzZXJhY3RKb2Ige1xuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlKXtcbiAgICAgICAgdGhpcy5pZCA9ICdKb2ItJyArICgrK2pvYkNvdW50ZXIpICsgJy0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc2xpY2UoMywgOClcblxuICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gW11cbiAgICAgICAgdGhpcy5fcmVqZWN0ID0gW11cbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSBbXVxuICAgICAgICB0aGlzLl9maW5hbGx5ID0gW11cbiAgICB9XG5cbiAgICB0aGVuKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgIGlmKHRoaXMuX3Jlc29sdmUucHVzaCl7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlLnB1c2gocmVzb2x2ZSkgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLl9yZXNvbHZlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYocmVqZWN0KSB0aGlzLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjYXRjaChyZWplY3Qpe1xuICAgICAgICBpZih0aGlzLl9yZWplY3QucHVzaCl7XG4gICAgICAgICAgICB0aGlzLl9yZWplY3QucHVzaChyZWplY3QpIFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlamVjdCh0aGlzLl9yZWplY3QpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHByb2dyZXNzKGZuKXtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MucHVzaChmbilcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGZpbmFsbHkoZm4pIHtcbiAgICAgICAgdGhpcy5fZmluYWxseS5wdXNoKGZuKVxuICAgICAgICByZXR1cm4gdGhpczsgIFxuICAgIH1cbiAgICBfc2VuZChhY3Rpb24sIHBheWxvYWQpe1xuICAgICAgICBhZGFwdGVyLnNlbmRQYWNrZXQodGhpcy5faW5zdGFuY2UsIHtcbiAgICAgICAgICAgIGpvYklkOiB0aGlzLmlkLFxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgX2hhbmRsZShwYWNrZXQpe1xuICAgICAgICB2YXIgZGF0YSA9IHBhY2tldC5kYXRhO1xuICAgICAgICBsZXQgcnVuRmluYWxseUNicyA9IGZhbHNlO1xuXG4gICAgICAgIGlmKHBhY2tldC5zdGF0dXMgPT09ICdyZXNvbHZlJyl7XG4gICAgICAgICAgICBpZih0aGlzLl9yZXNvbHZlLmxlbmd0aCA9PT0gMCkgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBmbihkYXRhKTtcbiAgICAgICAgICAgICAgICBpZihyZXQgJiYgdHlwZW9mIHJldC50aGVuID09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Rlc3NlcmFjdEpvYiBpbnN0YW5jZXMgZG8gbm90IGNoYWluIGxpa2UgRVM2IFByb21pc2VzLiBUbyBjb252ZXJ0IGl0IGludG8gYSByZWFsIHByb21pc2UsIHVzZSBQcm9taXNlLnJlc29sdmUuJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5fZGVxdWV1ZSgpXG4gICAgICAgICAgICBydW5GaW5hbGx5Q2JzID0gdHJ1ZTtcbiAgICAgICAgfWVsc2UgaWYocGFja2V0LnN0YXR1cyA9PT0gJ3JlamVjdCcpe1xuICAgICAgICAgICAgaWYodGhpcy5fcmVqZWN0Lmxlbmd0aCA9PT0gMCkgY29uc29sZS5lcnJvcihkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdC5mb3JFYWNoKGZuID0+IGZuKGRhdGEpKVxuICAgICAgICAgICAgdGhpcy5fcmVqZWN0ID0gZGF0YTtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlLl9kZXF1ZXVlKClcbiAgICAgICAgICAgIHJ1bkZpbmFsbHlDYnMgPSB0cnVlO1xuICAgICAgICB9ZWxzZSBpZihwYWNrZXQuc3RhdHVzID09PSAncHJvZ3Jlc3MnKXtcbiAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzLmZvckVhY2goZm4gPT4gZm4oZGF0YSkpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdNZXNzYWdlIHR5cGUgdW5rbm93bicsIHBhY2tldC5zdGF0dXMpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocnVuRmluYWxseUNicykge1xuICAgICAgICAgICAgdGhpcy5fZmluYWxseS5mb3JFYWNoKGZuID0+IGZuKGRhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlxuZXhwb3J0IGNsYXNzIFZlY3RvciB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyByZWdpc3RlckNvbGxpZGVyIH0gZnJvbSBcIi4vY29sbGlkZXJzXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi9vYmplY3RcIjtcbmltcG9ydCBTcHJpdGUgZnJvbSBcIi4vc3ByaXRlXCI7XG5cbi8vIFRpbGUgc3R1ZmZcblxuY2xhc3MgVGlsZU9iamVjdCBleHRlbmRzIEdhbWVPYmplY3Qge1xuICAgIG1hcDogVGlsZW1hcDtcblxuICAgIHRpbGVyb3c6IG51bWJlcjtcbiAgICB0aWxlY29sOiBudW1iZXI7XG5cbiAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbWFwOiBUaWxlbWFwLFxuICAgICAgICB4OiBudW1iZXIsXG4gICAgICAgIHk6IG51bWJlcixcbiAgICAgICAgdzogbnVtYmVyLFxuICAgICAgICBoOiBudW1iZXIsXG4gICAgICAgIHRpbGVyb3c6IG51bWJlcixcbiAgICAgICAgdGlsZWNvbDogbnVtYmVyLFxuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgc3VwZXIoeCwgeSwgdywgaCk7XG5cbiAgICAgICAgdGhpcy50aWxlcm93ID0gdGlsZXJvdztcbiAgICAgICAgdGhpcy50aWxlY29sID0gdGlsZWNvbDtcblxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgIH1cblxuICAgIHNwcml0ZSgpIHtcbiAgICAgICAgdGhpcy5tYXAubG9hZFNwcml0ZSh0aGlzLnRpbGVyb3csIHRoaXMudGlsZWNvbCk7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC50aWxlU3ByaXRlc1t0aGlzLnRpbGVyb3ddW3RoaXMudGlsZWNvbF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGlsZW1hcCB7XG4gICAgZmlsZXBhdGg6IHN0cmluZztcblxuICAgIC8vIEhvbGRzIGluc3RhbmNlcyBvZiB0aGUgdGlsZXNcbiAgICB0aWxlczogQXJyYXk8VGlsZU9iamVjdD47XG5cbiAgICAvLyAxMngxNiB0aWxlcyBpbiBmb3Jlc3RfdGlsZXMucG5nXG4gICAgdGlsZVNwcml0ZXM6IEFycmF5PEFycmF5PFNwcml0ZT4+O1xuXG4gICAgbnJvd3M6IG51bWJlcjtcbiAgICBuY29sczogbnVtYmVyO1xuICAgIHRpbGV3aWR0aDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGZpbGVwYXRoOiBzdHJpbmcsXG4gICAgICAgIG5yb3dzOiBudW1iZXIsXG4gICAgICAgIG5jb2xzOiBudW1iZXIsXG4gICAgICAgIHRpbGV3aWR0aDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIHRoaXMuZmlsZXBhdGggPSBmaWxlcGF0aDtcblxuICAgICAgICB0aGlzLnRpbGVTcHJpdGVzID0gW107XG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IG5yb3dzOyByb3crKykge1xuICAgICAgICAgICAgdGhpcy50aWxlU3ByaXRlcy5wdXNoKFtdKTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IG5jb2xzOyBjb2wrKykge1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZVNwcml0ZXNbcm93XS5wdXNoKG5ldyBTcHJpdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRpbGVzID0gW107XG5cbiAgICAgICAgdGhpcy50aWxld2lkdGggPSB0aWxld2lkdGg7XG4gICAgICAgIHRoaXMubnJvd3MgPSBucm93cztcbiAgICAgICAgdGhpcy5uY29scyA9IG5jb2xzO1xuICAgIH1cblxuICAgIGxvYWRTcHJpdGUocm93OiBudW1iZXIsIGNvbDogbnVtYmVyKTogU3ByaXRlIHtcbiAgICAgICAgaWYgKHRoaXMudGlsZVNwcml0ZXNbcm93XVtjb2xdLmxvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVNwcml0ZXNbcm93XVtjb2xdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUoXG4gICAgICAgICAgICB0aGlzLmZpbGVwYXRoLFxuICAgICAgICAgICAgY29sICogdGhpcy50aWxld2lkdGgsXG4gICAgICAgICAgICByb3cgKiB0aGlzLnRpbGV3aWR0aCxcbiAgICAgICAgICAgIHRoaXMudGlsZXdpZHRoLFxuICAgICAgICAgICAgdGhpcy50aWxld2lkdGhcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZShcbiAgICAgICAgdGlsZXJvdzogbnVtYmVyLFxuICAgICAgICB0aWxlY29sOiBudW1iZXIsXG4gICAgICAgIG5hbWUgPSBcIlVubmFtZWRcIixcbiAgICAgICAgeCA9IDAsXG4gICAgICAgIHkgPSAwLFxuICAgICAgICB3ID0gMSxcbiAgICAgICAgaCA9IDFcbiAgICApOiBUaWxlT2JqZWN0IHtcbiAgICAgICAgdGhpcy50aWxlU3ByaXRlc1t0aWxlcm93XVt0aWxlY29sXSA9IHRoaXMubG9hZFNwcml0ZSh0aWxlcm93LCB0aWxlY29sKTtcblxuICAgICAgICBjb25zdCB0aWxlID0gbmV3IFRpbGVPYmplY3QodGhpcywgeCwgeSwgdywgaCwgdGlsZXJvdywgdGlsZWNvbCwgbmFtZSk7XG5cbiAgICAgICAgdGhpcy50aWxlcy5wdXNoKHRpbGUpO1xuXG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH1cblxuICAgIGxvYWRPYmplY3QoXG4gICAgICAgIHRpbGVyb3c6IG51bWJlcixcbiAgICAgICAgdGlsZWNvbDogbnVtYmVyLFxuICAgICAgICBuYW1lID0gXCJVbm5hbWVkXCIsXG4gICAgICAgIHggPSAwLFxuICAgICAgICB5ID0gMCxcbiAgICAgICAgdyA9IDEsXG4gICAgICAgIGggPSAxLFxuICAgICAgICBjb2xsaWRlciA9IGZhbHNlXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLmxvYWRUaWxlKHRpbGVyb3csIHRpbGVjb2wsIG5hbWUsIHgsIHksIHcsIGgpO1xuXG4gICAgICAgIGlmIChjb2xsaWRlcikge1xuICAgICAgICAgICAgcmVnaXN0ZXJDb2xsaWRlcih0aWxlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=